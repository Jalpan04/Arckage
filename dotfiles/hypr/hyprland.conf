# ───────────────────────────────────────────────
#  K A G E  (影)  -  Feudal Japan Neon Brutalism
#  Hyprland Config for VM
# ───────────────────────────────────────────────

# ── MONITORS ───────────────────────────────────
monitor = , preferred, auto, 1

# ── MY PROGRAMS ────────────────────────────────
$terminal    = kitty
$fileManager = thunar
$menu        = rofi -show drun

# ── AUTOSTART ──────────────────────────────────
exec-once = ~/.config/hypr/scripts/waybar_watcher.sh &
exec-once = kitty --hold fastfetch & # Launch "cool stuff" on login
# Removed firefox preload, eww, and cava for "Lite" VM performance

# ── ENVIRONMENT VARIABLES ──────────────────────
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = XDG_CURRENT_DESKTOP,Hyprland

# ── LOOK AND FEEL ──────────────────────────────
general {
    gaps_in             = 2
    gaps_out            = 0
    border_size         = 1

    # Neon Red to Cyber Yellow Gradient
    col.active_border   = rgba(ff0033ff) rgba(ffcc00ff) 45deg
    # Dim Cyan for inactive
    col.inactive_border = rgba(00ffff33)

    resize_on_border = false
    allow_tearing    = false
    layout           = dwindle
}

decoration {
    rounding       = 0 # Brutalist (Sharp corners)

    active_opacity   = 1.0
    inactive_opacity = 1.0 # High contrast, no transparency on windows

    shadow {
        enabled      = false # Disable for performance & clean look
    }

    blur {
        enabled     = false # Disable for performance
    }
}

# ── ANIMATIONS ─────────────────────────────────
animations {
    enabled = yes

    bezier = sharp, 0.0, 0.0, 0.2, 1.0

    # Very fast, snappy animations
    animation = global, 1, 2, sharp
    animation = windows, 1, 2, sharp, popin 80%
    animation = workspaces, 1, 2, sharp, slide
}

# ── LAYOUTS ────────────────────────────────────
dwindle {
    pseudotile     = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = 0
    disable_hyprland_logo   = true
    background_color        = 0x000000 # Pure Black
}

# ── INPUT ──────────────────────────────────────
input {
    kb_layout  = us
    kb_options =
    
    follow_mouse = 1
    sensitivity  = 0
    mouse_refocus = false # Keyboard focus preference

    touchpad {
        natural_scroll = true
    }
}

# ── KEYBINDINGS ────────────────────────────────
$mainMod = ALT # Switched to ALT per user request

# Apps
bind = $mainMod, RETURN, exec, $terminal
bind = $mainMod, B, exec, firefox
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, SPACE, exec, $menu
bind = $mainMod, Q, killactive,
bind = $mainMod, F, togglefloating,
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,

# Focus with Arrow Keys (Keyboard Centric)
bind = $mainMod, left,  movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up,    movefocus, u
bind = $mainMod, down,  movefocus, d

# Focus with Vim Keys
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Screenshot
bind = , Print, exec, grim -g "$(slurp)" - | wl-copy

# Workspaces (Kanji Logic - 1=Ich, 2=Ni, 3=San, 4=Shi)
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4

# Scroll through workspaces
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up,   workspace, e-1

# ── WINDOW RULES ───────────────────────────────
windowrulev2 = suppressevent maximize, class:.*
windowrulev2 = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

workspace=1,persistent:true
workspace=2,persistent:true
workspace=3,persistent:true
workspace=4,persistent:true
workspace=9,persistent:true

workspace=1,monitor:eDP-1
workspace=2,monitor:eDP-1
workspace=3,monitor:eDP-1
workspace=4,monitor:eDP-1
workspace=9,monitor:eDP-1

